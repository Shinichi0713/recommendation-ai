<!DOCTYPE html>
        <html>
        <head>
            <meta charset="UTF-8">
            <title>&#x7dda;&#x5f62;&#x4ee3;&#x6570;&#x304c;&#x91cd;&#x8981;&#x3067;&#x3042;&#x308b;&#x7406;&#x7531;</title>
            <style>
/* From extension vscode.github */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.vscode-dark img[src$=\#gh-light-mode-only],
.vscode-light img[src$=\#gh-dark-mode-only],
.vscode-high-contrast:not(.vscode-high-contrast-light) img[src$=\#gh-light-mode-only],
.vscode-high-contrast-light img[src$=\#gh-dark-mode-only] {
	display: none;
}

</style>
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<link href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
<style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        <style>
.task-list-item {
    list-style-type: none;
}

.task-list-item-checkbox {
    margin-left: -20px;
    vertical-align: middle;
    pointer-events: none;
}
</style>
<style>
:root {
  --color-note: #0969da;
  --color-tip: #1a7f37;
  --color-warning: #9a6700;
  --color-severe: #bc4c00;
  --color-caution: #d1242f;
  --color-important: #8250df;
}

</style>
<style>
@media (prefers-color-scheme: dark) {
  :root {
    --color-note: #2f81f7;
    --color-tip: #3fb950;
    --color-warning: #d29922;
    --color-severe: #db6d28;
    --color-caution: #f85149;
    --color-important: #a371f7;
  }
}

</style>
<style>
.markdown-alert {
  padding: 0.5rem 1rem;
  margin-bottom: 16px;
  color: inherit;
  border-left: .25em solid #888;
}

.markdown-alert>:first-child {
  margin-top: 0
}

.markdown-alert>:last-child {
  margin-bottom: 0
}

.markdown-alert .markdown-alert-title {
  display: flex;
  font-weight: 500;
  align-items: center;
  line-height: 1
}

.markdown-alert .markdown-alert-title .octicon {
  margin-right: 0.5rem;
  display: inline-block;
  overflow: visible !important;
  vertical-align: text-bottom;
  fill: currentColor;
}

.markdown-alert.markdown-alert-note {
  border-left-color: var(--color-note);
}

.markdown-alert.markdown-alert-note .markdown-alert-title {
  color: var(--color-note);
}

.markdown-alert.markdown-alert-important {
  border-left-color: var(--color-important);
}

.markdown-alert.markdown-alert-important .markdown-alert-title {
  color: var(--color-important);
}

.markdown-alert.markdown-alert-warning {
  border-left-color: var(--color-warning);
}

.markdown-alert.markdown-alert-warning .markdown-alert-title {
  color: var(--color-warning);
}

.markdown-alert.markdown-alert-tip {
  border-left-color: var(--color-tip);
}

.markdown-alert.markdown-alert-tip .markdown-alert-title {
  color: var(--color-tip);
}

.markdown-alert.markdown-alert-caution {
  border-left-color: var(--color-caution);
}

.markdown-alert.markdown-alert-caution .markdown-alert-title {
  color: var(--color-caution);
}
nav {
    background-color: #f8f9fa;
    border: 1px solid #e1e4e8;
    border-radius: 12px;
    padding: 24px;
    margin: 20px 0 40px 0;
    max-width: 600px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.05);
}

/* 「目次」というタイトル */
nav h3 {
    margin-top: 0;
    margin-bottom: 16px;
    padding-bottom: 8px;
    border-bottom: 2px solid #0969da;
    color: #24292f;
    font-size: 1.2rem;
    display: flex;
    align-items: center;
}

/* タイトルの前にアイコン（絵文字）を追加 */
nav h3::before {
    content: "📖";
    margin-right: 8px;
}

/* リストのスタイル調整 */
#toc {
    list-style: none;
    padding-left: 0;
    margin: 0;
}

#toc li {
    margin-bottom: 8px;
    line-height: 1.4;
}

/* リンクのスタイル */
#toc a {
    color: #0969da;
    text-decoration: none;
    font-weight: 500;
    transition: all 0.2s ease;
    display: inline-block;
}

#toc a:hover {
    color: #cf222e;
    transform: translateX(5px); /* ホバー時に少し右に動く */
}

/* h3（小見出し）がある場合のネスト表現（JSの修正も必要） */
.toc-h3 {
    padding-left: 20px;
    font-size: 0.9em;
    opacity: 0.8;
}


/* 記事タイトル (h1) */
h1 {
    font-size: 2rem;
    color: #24292f;
    line-height: 1.3;
    padding: 20px 0;
    margin-bottom: 30px;
    border-bottom: 3px double #e1e4e8; /* 二重線で上品に */
    text-align: center; /* タイトルを中央に寄せて特別感を出す */
}

/* セクション見出し (h2) */
h2 {
    font-size: 1.5rem;
    color: #24292f;
    padding: 0.5rem 1rem;
    margin: 40px 0 20px 0;
    background: linear-gradient(transparent 70%, #e8f0fe 70%); /* 下側に薄い色のアクセント */
    border-left: 6px solid #0969da; /* 目次のテーマカラーと合わせる */
    border-radius: 2px;
    display: flex;
    align-items: center;
}

/* 強調文字 (strong) */
strong {
    font-weight: bold;
    color: #cf222e; /* ホバー時の赤色と合わせて統一感を出す */
    background: linear-gradient(transparent 60%, #fff2cc 60%); /* 黄色のマーカー風 */
    padding: 0 2px;
}

/* 引用のコンテナ */
blockquote {
    position: relative;
    padding: 20px 30px;
    margin: 30px 0;
    background-color: #f6f8fa; /* 目次の背景より少しだけ濃いグレー */
    border-left: 5px solid #d0d7de; /* 落ち着いたグレーの境界線 */
    color: #57606a; /* 文字色は少し薄くして引用らしさを出す */
    font-style: italic;
    border-radius: 0 8px 8px 0;
}

/* 引用符のアイコンを装飾として追加 */
blockquote::before {
    content: "“";
    position: absolute;
    top: -5px;
    left: 10px;
    font-size: 40px;
    color: #d0d7de;
    font-family: serif;
    line-height: 1;
}

/* 読者になるボタンのデザイン */
.btn-subscribe {
    display: inline-block;
    padding: 12px 35px; /* 横幅を広めにとって存在感を出します */
    background-color: #383838; /* お好みの色に変更してください */
    color: #ffffff !important;
    text-decoration: none;
    border-radius: 4px;
    font-weight: bold;
    transition: 0.3s;
}

.btn-subscribe:hover {
    background-color: #555555;
    text-decoration: none;
}

/* はてなブログで見えてしまう数式データを非表示にする */
.katex-html {
    display: none !important;
}

.katex-mathml {
    display: inline !important;
}
/* Amazonカード型のオシャレなデザイン */
.shop-card {
    display: flex;
    max-width: 500px;
    margin: 20px auto;
    border: 1px solid #e0e0e0;
    border-radius: 12px;
    overflow: hidden;
    background-color: #ffffff;
    box-shadow: 0 4px 12px rgba(0,0,0,0.05);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

/* マウスホップした時の動き */
.shop-card:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 20px rgba(0,0,0,0.1);
}

.shop-card-image {
    width: 150px;
    min-width: 150px;
    background-color: #f9f9f9;
    display: flex;
    align-items: center;
    justify-content: center;
}

.shop-card-image img {
    max-width: 100%;
    height: auto;
    padding: 10px;
}

.shop-card-content {
    padding: 16px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}

.shop-card-title {
    font-weight: bold;
    font-size: 1.1rem;
    color: #333;
    margin-bottom: 8px;
    line-height: 1.4;
}

.shop-card-description {
    font-size: 0.85rem;
    color: #666;
    margin-bottom: 16px;
}

/* Amazonらしいオレンジボタン */
.shop-card-link a {
    display: inline-block;
    background-color: #ff9900;
    color: #fff !important;
    text-decoration: none !important;
    padding: 8px 20px;
    border-radius: 20px;
    font-size: 0.9rem;
    font-weight: bold;
    transition: background-color 0.2s;
}

.shop-card-link a:hover {
    background-color: #e68a00;
}

/* スマホ対応：縦並びにする */
@media (max-width: 480px) {
    .shop-card {
        flex-direction: column;
        max-width: 100%;
    }
    .shop-card-image {
        width: 100%;
        height: 200px;
    }
}

</style>
        
        </head>
        <body class="vscode-body vscode-light">
<nav>
        <h3>目次</h3>
        <ul id="toc"></ul> 
</nav>

            <p>線形代数は大学の必修科目ですが、そもそもなんでやっているか分からないということが多いと思ってます。
少なくとも学生時代の著者はそうでした。</p>
<p>今回は線形代数がなぜ重要なのかについて説明します。</p>
<h2 id="線形代数が重要である理由">線形代数が重要である理由</h2>
<p>線形代数が「科学計算の王様」と言われる理由は、一言で言えば <strong>「この世の複雑で非線形な現象を、コンピュータが得意な『直線と格子』の世界に落とし込んで解くため」</strong> です。</p>
<p>なぜこれほどまでに重宝されるのか、3つの決定的な理由に分解して解説します。</p>
<h3 id="1-膨大なデータをひとかたまりで扱うため">1. 膨大なデータを「ひとかたまり」で扱うため</h3>
<p>現代のデータ（画像、音声、センサーログなど）は、数百万個の数字の羅列です。これを1つずつ変数 <code>x1, x2, x3...</code> として計算していたら、プログラムはスパゲッティ状態になります。</p>
<ul>
<li><strong>ベクトルの役割:</strong> 1つの「点」や「状態」をリスト化する。</li>
<li><strong>行列の役割:</strong> その「状態」を一気に変換する「ルール」として機能する。</li>
</ul>
<p>行列を使うことで、 <strong>100万個の計算を「<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi><mi>x</mi><mo>=</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">Ax = b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal">A</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6944em;"></span><span class="mord mathnormal">b</span></span></span></span>」というたった1行の式</strong> で表現でき、コンピュータ（特にGPU）はこれを超高速で処理するように設計されています。</p>
<h3 id="2-難しい問題を線形直線に近似するため">2. 難しい問題を「線形（直線）」に近似するため</h3>
<p>現実世界の現象（流体の動き、経済の変動、ロケットの軌道）は、本来「非線形」で複雑です。しかし、人間もコンピュータも、非線形な問題を直接解くのは非常に苦手です。</p>
<p>そこで、 <strong>「ごく狭い範囲だけを見れば、曲線も直線に見える」</strong> という性質（微分）を利用します。</p>
<ul>
<li><strong>線形近似:</strong> 複雑な曲線を細かく分割し、それぞれの場所で「線形な問題（行列計算）」として解く。</li>
<li>この「細かく切って行列で解く」というプロセスが、 <strong>有限要素法 (FEM)</strong> などのシミュレーション技術の根幹です。</li>
</ul>
<h3 id="3-空間の性質を数式で操るため">3. 「空間の性質」を数式で操るため</h3>
<p>線形代数は、単なる数字の表ではなく <strong>「空間の変形」</strong> を扱う学問です。</p>
<ul>
<li><strong>回転・拡大・投影:</strong> 3DCGでキャラクターを動かす、カメラの視点を変える、これらはすべて行列による空間変形です。</li>
<li><strong>次元圧縮:</strong> 100次元ある複雑なデータから、本質的な2〜3次元だけを抜き出す（主成分分析など）。これは、データの「重要な軸（固有ベクトル）」を見つける作業です。</li>
</ul>
<h3 id="まとめなぜ学ぶのか">まとめ：なぜ学ぶのか？</h3>
<p>結局のところ、線形代数を学ぶ最大のメリットは、 <strong>「多次元の複雑な問題を、足し算と掛け算だけのシンプルな構造に整理できる」</strong> ことにあります。</p>
<ul>
<li><strong>プログラミング</strong>においては、メモリ効率と計算速度を最大化する武器。</li>
<li><strong>理論</strong>においては、高次元の迷宮を整理するための地図。</li>
</ul>
<h2 id="線形代数の重要な計算">線形代数の重要な計算</h2>
<p>線形代数は、現代の科学計算（シミュレーション、データ分析、AIなど）における「言語」そのものです。教科書的な計算手順（手計算での行列式など）よりも、　<strong>「何ができるのか」という概念の理解と、計算機での特性</strong>　を優先して押さえるのが実務への近道です。</p>
<p>特に重要なポイントを整理しました。</p>
<h3 id="1-行列分解matrix-decomposition">1. 行列分解（Matrix Decomposition）</h3>
<p>科学計算で最も多用される概念です。大きな行列を、扱いやすい性質を持つ行列の積に分解します。</p>
<ul>
<li><strong>LU分解:</strong> 連立方程式  を効率よく解くための標準的な手法。</li>
<li><strong>QR分解:</strong> 最小二乗法や固有値計算の基礎。</li>
<li><strong>特異値分解 (SVD):</strong> 最も強力なツールの一つ。データの次元圧縮（PCA）や、ノイズ除去、行列のランクの決定に使われます。</li>
</ul>
<h3 id="2-固有値と固有ベクトルeigenvalues--eigenvectors">2. 固有値と固有ベクトル（Eigenvalues &amp; Eigenvectors）</h3>
<p>物理現象の「安定性」や「振動」、データの特徴を理解するために不可欠です。</p>
<ul>
<li><strong>主成分分析 (PCA):</strong> 多次元データの主要な方向を特定する。</li>
<li><strong>スペクトル分解:</strong> 行列を固有値の重みで分解する。</li>
<li><strong>対角化:</strong> 複雑な行列演算（特に行列の累乗 ）を単純化する。</li>
</ul>
<h3 id="3-ベクトル空間と基底basis">3. ベクトル空間と基底（Basis）</h3>
<p>「データをどの視点から見るか」という考え方です。</p>
<ul>
<li><strong>基底変換:</strong> 座標系を入れ替えることで、計算を劇的に楽にします（例：フーリエ変換も一種の基底変換とみなせます）。</li>
<li><strong>直交性:</strong> 直交する基底（内積が 0）を使うと、計算の安定性が向上し、情報の重複がなくなります。</li>
</ul>
<h3 id="4-数値線形代数のお作法">4. 数値線形代数の「お作法」</h3>
<p>理論だけでなく、コンピュータで扱う際の「現実」を知っておく必要があります。</p>
<ul>
<li><strong>条件数 (Condition Number):</strong> 行列がどれくらい「扱いにくいか」の指標。条件数が大きいと、入力のわずかな誤差が解を大きく狂わせます。</li>
<li><strong>疎行列 (Sparse Matrix):</strong> ほとんどの成分が 0 である行列。数万次元を超えるような大規模計算では、0 を保存しない特殊なデータ構造とアルゴリズムが必須です。</li>
<li><strong>ノルム (Norm):</strong> ベクトルや行列の「大きさ」を測る指標。誤差の評価に使います。</li>
</ul>
<h3 id="5-最小二乗法least-squares">5. 最小二乗法（Least Squares）</h3>
<p>観測データに最もフィットするモデルを求める手法です。
理論的には  という「正規方程式」を解くことになりますが、実務では数値的安定性のために前述の <strong>QR分解</strong> や <strong>SVD</strong> を使って解くのが一般的です。</p>
<h2 id="線形代数の応用分野">線形代数の応用分野</h2>
<p>線形代数は、現代社会の「目に見えないインフラ」と言っても過言ではありません。AI以外にも、多岐にわたる分野で<strong>行列とベクトルの計算</strong>が屋台骨を支えています。</p>
<p>主要な応用分野を、その「使われ方」とともに整理しました。</p>
<h3 id="1-コンピュータグラフィックス-cg-と-ゲーム">1. コンピュータグラフィックス (CG) と ゲーム</h3>
<p>画面上のキャラクターが動いたり、視点が変わったりするのは、すべて<strong>行列による座標変換</strong>です。</p>
<ul>
<li><strong>回転・拡大・移動:</strong> 3Dモデルの各頂点（ベクトル）に、回転行列や変換行列を掛け合わせることで、瞬時に位置を計算します。</li>
<li><strong>投影:</strong> 3Dのデータを2Dのスクリーンに映し出す「透視投影」も行列演算です。</li>
<li><strong>シェーディング:</strong> 光の当たり方を計算するために、面の向き（法線ベクトル）と光の方向（ベクトル）の<strong>内積</strong>を使います。</li>
</ul>
<img width="512" alt="" src="https://upload.wikimedia.org/wikipedia/commons/e/e7/Simple_raycasting_with_fisheye_correction.gif?20120723220330" style="display: block; margin-left: auto; margin-right: auto; max-width: 100%;"/>
<h3 id="2-構造解析とシミュレーション-cae">2. 構造解析とシミュレーション (CAE)</h3>
<p>橋の設計、車の衝突実験、航空機の空力設計などは、線形代数なしでは不可能です。</p>
<ul>
<li><strong>有限要素法 (FEM):</strong> 複雑な物体を小さな要素（メッシュ）に分割し、それぞれのバネのような関係性を巨大な行列として表します。</li>
<li><strong>連立一次方程式:</strong> 最終的に「どの部分にどれだけの力がかかるか」を数百万次元の連立方程式  として解きます。</li>
</ul>
<p><img src="file:///d:\PycharmProjects\ScienceCalculation\recommendation-ai\mathematics\linear_algebra\image\README\1771066552613.png" alt="1771066552613"></p>
<h3 id="3-ネットワーク分析google検索など">3. ネットワーク分析（Google検索など）</h3>
<p>インターネット上の膨大なページの「重要度」を決めるのに行列が使われています。</p>
<ul>
<li><strong>PageRankアルゴリズム:</strong> ウェブサイトを「ノード」、リンクを「エッジ」とした巨大な隣接行列を作ります。</li>
<li><strong>固有値問題:</strong> 「リンクが集まるページほど重要」という関係を解くことは、数学的には<strong>この巨大行列の最大固有値に付随する固有ベクトルを求めること</strong>に他なりません。</li>
</ul>
<p><img src="file:///d:\PycharmProjects\ScienceCalculation\recommendation-ai\mathematics\linear_algebra\image\README\1771066856832.png" alt="1771066856832"></p>
<h3 id="4-量子力学と量子コンピュータ">4. 量子力学と量子コンピュータ</h3>
<p>ミクロの世界の物理学である量子力学は、線形代数の言葉で記述されています。</p>
<ul>
<li><strong>量子状態:</strong> 粒子の状態は複素数ベクトルで表されます。</li>
<li><strong>観測と変化:</strong> 物理的な操作はすべて「エルミート行列」や「ユニタリ行列」という特殊な行列を掛ける操作に対応します。</li>
<li><strong>量子コンピュータ:</strong> ゲート操作そのものが、量子ビット（ベクトル）に対する行列演算です。</li>
</ul>
<img width="512" alt="" src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/57/Quantum_state_discrimination_-_animation.gif/960px-Quantum_state_discrimination_-_animation.gif?20211214091454" style="display: block; margin-left: auto; margin-right: auto; max-width: 100%;"/>
<h3 id="5-画像音声の圧縮と加工-信号処理">5. 画像・音声の圧縮と加工 (信号処理)</h3>
<p>YouTubeやJPEG画像がスムーズに見られるのも、線形代数のおかげです。</p>
<ul>
<li><strong>フーリエ変換:</strong> 信号を周波数成分（基底ベクトル）に分解します。</li>
<li><strong>特異値分解 (SVD):</strong> 画像行列の小さな特異値を切り捨てることで、見た目をほぼ変えずにデータサイズを劇的に減らす「次元圧縮」が可能です。</li>
</ul>
<h3 id="6-統計学と金融工学">6. 統計学と金融工学</h3>
<p>大量のデータから相関を見つけたり、リスクを予測したりします。</p>
<ul>
<li><strong>分散共分散行列:</strong> 複数の変数の間の関係性を一目で把握するための行列です。</li>
<li><strong>ポートフォリオ最適化:</strong> 投資のリスクを最小化し、リターンを最大化する組み合わせを、行列の二次形式を用いて計算します。</li>
</ul>
<h2 id="総括">総括</h2>
<p>線形代数は科学計算を行う上でデータを一塊にして、共通処理をかける場合に非常に有効です。</p>
<p>応用分野として先に挙げたような分野で使われます。</p>
<p>画像の圧縮も特異値分解があるおかげで、ストリーム再生が出来るように通信を節約できるようになったり、
ゲームの画像のレンダリング時に、世界に矛盾なくキャラクターやエネミーが動作したり。</p>
<p>この手のことを踏まえて線形代数を勉強すると見え方が変わるのでは・・・と期待してたりします。</p>
<p>ということをお伝えしたかった本日でした。</p>
<div class="shop-card">
    <div class="shop-card-image">
        <img src="https://m.media-amazon.com/images/I/91JhO6WstuL._SL1500_.jpg" alt="商品画像">
    </div>
    <div class="shop-card-content">
        <div class="shop-card-title">線形代数入門</div>
        <div class="shop-card-description">線型代数の最も標準的なテキスト。平面および空間のベクトル、行列、行列式、線型空間、固有値と固有ベクトルなど7章のほか、附録をつけ線型代数の技術が習熟できる。各章末に演習問題があり、巻末に略解を付す。日本数学会出版賞受賞。</div>
        <div class="shop-card-link">
            <a href="https://www.amazon.co.jp/%E7%B7%9A%E5%9E%8B%E4%BB%A3%E6%95%B0%E5%85%A5%E9%96%80-%E5%9F%BA%E7%A4%8E%E6%95%B0%E5%AD%A61-%E9%BD%8B%E8%97%A4-%E6%AD%A3%E5%BD%A6/dp/4130620010?__mk_ja_JP=%E3%82%AB%E3%82%BF%E3%82%AB%E3%83%8A&crid=FBZ8IT8N0HVP&dib=eyJ2IjoiMSJ9.raG17HmdJDqR1xw-s72NyCPuaEfm5KCpXi7pTNoq_QIjVKT3KU7pqn7RIa4jj90kXvUq5KAu9qe-044Ub4_c-7qZrFrxf4bhrqtdSUpbYUqyvho1nCVqaBFvzVFNVPNBGfwTOSo8W6CP0oKlG4BlojmK6B0wityoP6tFpx9chP4cOQXsJBRjjJo_XdIQZuUVqlMgcyLlVAYF03h2GY0kk7yIW1JAXYcLW9IfJbFvDhn7Q8o2xSgx44JjPY6IPku7tQXM8STJgSqeByDeiq-T8EyenilxGj4ZxzpGzGhSJtI.rFisem8ppj0ivBAAT51d-gxJVLuNv0Heeem8G0A6rMc&dib_tag=se&keywords=%E7%B7%9A%E5%BD%A2%E4%BB%A3%E6%95%B0&qid=1771066940&sprefix=%E7%B7%9A%E5%BD%A2%E4%BB%A3%E6%95%B0%2Caps%2C170&sr=8-2-spons&sp_csd=d2lkZ2V0TmFtZT1zcF9hdGY&psc=1&linkCode=ll2&tag=yoshishinnze-22&linkId=c87f395611297c531a7104e682865a78&ref_=as_li_ss_tl" target="_blank" rel="noopener">Amazonで詳細を見る</a>
        </div>
    </div>
</div>
<h2 id="引用">引用</h2>
<p>本サイトの画像は以下サイトのものを引用しています。</p>
<p><a href="https://commons.wikimedia.org/">https://commons.wikimedia.org/</a></p>

            <script async src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script>

<script>
const toc = document.getElementById('toc');
// h2 と h3 の両方を取得
const headings = document.querySelectorAll('h2, h3');

headings.forEach((heading, i) => {
    if (!heading.id) heading.id = `heading-${i}`;
    
    const li = document.createElement('li');
    const link = document.createElement('a');
    link.href = `#${heading.id}`;
    link.textContent = heading.textContent;
    
    // h3 の場合はクラスを付与して字下げする
    if (heading.tagName === 'H3') {
        li.classList.add('toc-h3');
    }
    
    li.appendChild(link);
    toc.appendChild(li);
});

// スムーズスクロールを有効にする
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
        e.preventDefault();
        document.querySelector(this.getAttribute('href')).scrollIntoView({
            behavior: 'smooth'
        });
    });
});
</script>


        </body>
        </html>