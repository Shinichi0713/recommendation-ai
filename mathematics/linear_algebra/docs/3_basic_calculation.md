## 行列のベクトル化

行列をそのまま扱うと、数値の塊のトレースが出来なくなることがあります。
そこで行列を細かく分割して、トレースしやすくします。
この際に縦方向、横方向のブロック化が良く行われ、それぞれ**行ベクトル**と**列ベクトル**と呼ばれます。

これらを意識して使い分けることは、単なる計算上のルールではなく、**「データをどの視点から分析するか」**という分析の見通しがしやすくなります。

### 1. 定義：ブロックの「切り出し方」

行列 $A$ を $m \times n$ の数字の塊としたとき、切り出し方によって呼び名が変わります。

#### 列ベクトル (Column Vector)

行列を **「縦に細長く」** 切り出したものです。

$$\mathbf{a}_j = \begin{pmatrix} a_{1j} \\ a_{2j} \\ \vdots \\ a_{mj} \end{pmatrix}$$

* **イメージ:** 列ベクトルが横に $n$ 本並んで行列を構成していると考えます。
* **数学的な標準:** 通常、単に「ベクトル」と言えばこの列ベクトルを指すのが一般的です。

#### 行ベクトル (Row Vector)

行列を **「横に細長く」** 切り出したものです。

$$\mathbf{r}_i = \begin{pmatrix} a_{i1} & a_{i2} & \cdots & a_{in} \end{pmatrix}$$

* **イメージ:**  行ベクトルが縦に $m$ 本積み重なって行列を構成していると考えます。

### 2. ベクトルを用いることによる利便性

これらを使い分ける最大の利点は、 **「複雑な行列計算を、意味のある小さな単位に分解できる」** 点にあります。

#### ① 列ベクトルの利便性：写像の「行き先」がわかる

行列 $A$ にベクトル $\mathbf{x}$ を掛ける計算 ($A\mathbf{x}$) を、「列ベクトルの組み合わせ」として捉え直せます。

* **考え方:** $A\mathbf{x}$ は、「$A$ の各列ベクトルを、$\mathbf{x}$ の成分の比率で混ぜ合わせたもの」になります。
* **利点:** これにより、 **「この行列（写像）を通すと、空間がどの方向に引き伸ばされるか」** が直感的にわかります。AI（線形結合）の計算はこの視点で行われます。

#### ② 行ベクトルの利便性：データの「共通点（重み）」が見える

行列の各行を、一つの「フィルター」や「観測ルール」として捉えます。

* **考え方:** 内積計算は「行ベクトル  列ベクトル」の形になります。
* **利点:** 例えば、行ベクトルを「アンケートの評価項目」、列ベクトルを「ある回答者のデータ」とすれば、掛け算の結果は「その人の総合スコア」になります。 **「多次元のデータから一つの特徴を抽出する」** 際に非常に便利です。

#### ③ プログラミングとメモリの効率

コンピュータ上では、行列は「行ごとに並べる（行優先）」か「列ごとに並べる（列優先）」かのどちらかでメモリに保存されます。

* 自分の計算が「行」を頻繁に使うなら「行優先」で保存されたデータを使う、といった具合に、**計算速度を最大化する設計**が可能になります。




