
## 行列演算の法則
行列の演算には、普通の数字（スカラー）の計算と「似ているルール」と「決定的に違うルール」があります。この違いを理解することが、計算ミスを防ぎ、線形代数の深い理解に繋がります。

主要な法則を整理して解説します。

### 1. 和とスカラー倍の法則

これらは普通の数字の計算と同じ感覚で扱えます。行列 $A, B, C$ とスカラー $k, l$ に対して以下が成り立ちます。

* **交換法則:** $A + B = B + A$ （足す順番を変えてもOK）
* **結合法則:**  $(A + B) + C = A + (B + C)$ （どこから足してもOK）
* **分配法則:** $k(A + B) = kA + kB$ / $(k + l)A = kA + lA$

### 2. 積（掛け算）の法則

積については、非常に注意が必要です。

#### ① 結合法則（成り立つ）

$$(AB)C = A(BC)$$

3つの行列を掛けるとき、**隣り合う順番さえ変えなければ**、前を先に掛けても後ろを先に掛けても結果は同じです。

> **利便性:** コンピュータ計算では、計算回数が少なくて済む組み合わせを優先して計算することがあります。

__証明__

行列の積の結合法則  の証明は、行列の各成分  がどのように計算されるかを「シグマ（）」記号を使って追いかけることで導き出せます。

一見複雑に見えますが、本質は **「足し算の順序を入れ替えているだけ」** です。


__準備：行列の積の成分表示__

行列 $M$ と $N$ の積 $MN$ の $(i, j)$ 成分は、次のように定義されます。

$$(MN)_{ij} = \sum_{k} m_{ik} n_{kj}$$

これを使って、左辺と右辺の「ある場所（行列）」の数字が同じになることを証明します。


__証明のステップ__

3つの行列のサイズを $A(m \times n), B(n \times p), C(p \times q)$ とします。

__1. 左辺 $(AB)C$ の $(i, l)$ 成分を書き出す__

まず、$AB$ という一つの行列（これを $X$ と置く）と $C$ の積と考えます。

1. $X = AB$ の成分は、$(AB)_{ik} = \sum_{j=1}^{n} a_{ij} b_{jk}$ です。
2. これに $C$ を掛けた $(XC)_{il}$ は次のようになります。

$$((AB)C)_{il} = \sum_{k=1}^{p} (AB)_{ik} c_{kl}$$

3. 1の式を代入します。

$$((AB)C)_{il} = \sum_{k=1}^{p} \left( \sum_{j=1}^{n} a_{ij} b_{jk} \right) c_{kl}$$

4. 括弧を外して整理します。

$$((AB)C)_{il} = \sum_{k=1}^{p} \sum_{j=1}^{n} a_{ij} b_{jk} c_{kl}$$

__2. 右辺 $A(BC)$ の $(i, l)$ 成分を書き出す__

次に、$A$ と $BC$（これを $Y$ と置く）の積と考えます。

1. $Y = BC$ の成分は、$(BC)_{jl} = \sum_{k=1}^{p} b_{jk} c_{kl}$ です。
2. $A$ と $Y$ の積 $(AY)_{il}$ は次のようになります。

$$(A(BC))_{il} = \sum_{j=1}^{n} a_{ij} (BC)_{jl}$$

3. 1の式を代入します。

$$(A(BC))_{il} = \sum_{j=1}^{n} a_{ij} \left( \sum_{k=1}^{p} b_{jk} c_{kl} \right)$$

4. 括弧を外して整理します。

$$(A(BC))_{il} = \sum_{j=1}^{n} \sum_{k=1}^{p} a_{ij} b_{jk} c_{kl}$$

__3. 両辺を比較する__

ここで、ステップ1とステップ2の最終形を並べてみます。

* **左辺:** $\sum_{k=1}^{p} \sum_{j=1}^{n} a_{ij} b_{jk} c_{kl}$
* **右辺:** $\sum_{j=1}^{n} \sum_{k=1}^{p} a_{ij} b_{jk} c_{kl}$

この2つの式は、**「シグマ（合計）の順番」が違うだけ**です。
普通の数字（スカラー）の掛け算 $a_{ij} b_{jk} c_{kl}$ は順番を変えても結果が変わらないため、これらを全部足し合わせる順序を入れ替えても、最終的な合計値は一致します。

すべての成分 $(i, l)$ についてこれが成り立つため、行列として等しいことが証明されました。

$$(AB)C = A(BC)$$



#### ② 分配法則（成り立つ）

$$A(B + C) = AB + AC$$

$$(A + B)C = AC + BC$$

括弧を外して展開することができます。ただし、常に「$A$ が左、ベクトル（または行列）が右」という左右の位置関係を崩さないように注意してください。

#### ③ 交換法則（【重要】成り立たない）

$$AB \neq BA$$

前述の数値計算例でも見た通り、行列の積は順番を入れ替えると全く別の結果になります。

* **数学的理由:** 行列 $A$ が「回転」、$B$ が「引き伸ばし」だとしたら、操作の順序が変われば最終的な形が変わってしまうからです。

### 3. 転置（Transpose）の法則

行列をひっくり返す「転置」には、面白い性質があります。

* **二重の転置:**  $(A^T)^T = A$ （2回ひっくり返すと元に戻る）
* **和の転置:** $(A + B)^T = A^T + B^T$
* **【重要】積の転置:**  $(AB)^T = B^T A^T$
* **ポイント:** 積を転置すると、**掛ける順番が逆転**します。これは「靴下を履いてから靴を履く」動作を逆再生すると「靴を脱いでから靴下を脱ぐ」ことになるのと似ています。



### 4. ゼロ因子（Zero Divisor）

普通の数字なら $ab = 0$ なら $a=0$ または $b=0$ ですが、行列では違います。

* **性質:** $A \neq 0$ かつ $B \neq 0$ なのに、$AB = 0$ となることがあります。
* **意味:** 写像として見たとき、ある方向へ押しつぶすマシン $B$ と、別の方向へ押しつぶすマシン $A$ が組み合わさることで、空間のすべての情報が消えてしまう（原点に集まる）状態を指します。



